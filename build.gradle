plugins {
    id 'idea'
}

tasks.withType(JavaCompile).configureEach {
    options.release.set 17
    options.encoding = 'UTF-8'
}
// TODO: Use git hash in the jar name
def getGitHash = { ->
    def stdout = new ByteArrayOutputStream()
    exec {
        commandLine 'git', 'rev-parse', '--short', 'HEAD'
        standardOutput = stdout
    }
    return stdout.toString().trim()
}
tasks.register('build'){
    project('platforms:fabric-1.20.1').tasks.build
}
